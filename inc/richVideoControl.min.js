/*
richVideoControl.js v0.1 (c) 2015 by Wilson Luniz @ Previous Production Macau. Licensed under the GPLv3 license
See http://github.com/wilsonlmh/richVideoControl.js/ for license and more info 
*/
var store=store||[],lastScriptPath; try{lastScriptPath=document.getElementsByTagName("script")[document.getElementsByTagName("script").length-1].getAttribute("src").split("?")[0].split("/").slice(0,-1).join("/")+"/";} catch(e) {};lastScriptPath=lastScriptPath||'./';console.log(lastScriptPath);if (typeof getFile != 'function') {function getFile(e){var t=e;if(store.length>0)for(row of store)row.url==e&&(t=row.dataUrl);return t}};store.push({url:lastScriptPath+"richVideoControlIcon_backward.png",dataUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAABJCAYAAABxcwvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAf5JREFUeNrsnMFxwjAQRc2ObjkkJeTAPaSDpIN0EDFDA3SQEugguIKkBEpIOuDIkVTgWDNwBYyk/X/N7ozO/8+zZOvbWk+6rmu8Tpc4AofkkBySQ3JIDskhcdTDYdDoCiGgTT9mTLpCCOiJTZcFUrqCPwBAF+kGEkDpSt6z6ooD4n66RRCgwboBCOjTiq44ID5IKxCgLF3N5bbuxzsAULauOCA8pLSb/QYAKqobKhuljBksM2k0gGpBmoEAVdMNlYxSxwzkTBoloJKQ3kCAVHRLQErb/S9QUFXRlQJGTeUwbUgfIEDqutc+3UzHDI2ZdFOAhkIaRQ6rudxGFTNqzKSbBnQJJFQOm7IAOrfcHkG76FTpdetdQ1KnZtK+H1uQr11DVOcgpeXWAnwtQLpX37gjyHBkASXkhilAyUDDcxCouRVIx2iAMLxGghJDhmGgJMPwcz/+AKDUdXPeJ6UTYi8AUOq6Ys0wQlcKGU6bzl8AKBXdUl9Ltocrqw1KRbfkd7c9CFR1XalkuAWBai1AOhqOIFBVdGueTxpN3hMFw0sQqKUVSKlWoDhRTFfzzKTZvCfKhl9BeS9LV/sc9wYUY7J0ER0B5vIeqgHHVN5DdimZyXvofjcTeY+hvZQ+77H04FLnvdBwVWTUnfhPpmzckxySQ3JIXg7JITkk9foXYABAGpV5oXhDIgAAAABJRU5ErkJggg=="});store.push({url:lastScriptPath+"richVideoControlIcon_forward.png",dataUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAABJCAYAAABxcwvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgBJREFUeNrsnM1Nw0AQhZORD9zgyNEdhBLcSUIHKQEqQFSQ0AEdECrAdEBuHEkFxpZsCSSIYDU7781mRtrze/q8P/N2o8y7rptFHS8JBAEpIAWkgBSQAlJA+l41yFPtCdKqH1uAJ5Ru8nJbjoYvjH2hdJP3pMHwDgRqxwDqrxv3AmR4wQBKEgzXIFC1B0iT4bYfVwBQCN3kPul8/LLWhlG6yc3kZLgBgWo8QJoMP419jTUoU12NWLIBgDLVFUXDaxCotRdIQ92B4kR2Xe1bgCUIVFZd8WYYoSsZDbegvKeum/PSrZi8J94MI3TFyPAbKO+p6FrdcbvOe+LNMEJXAIZfQHkvWRf1pOQq7yHf3dyAQj9ObkDd+b90GV5w6WMMyzM3NSim3wJMueuMLe9VM64auuRLkO7QSzX9+GCeSVO9g3TbnwAxzqTbL1/WWvfGw550fcwoUleIAG1ZddHL7TB2v4/MuhUYUDNumNS6EoA4Ie1BgJJ1rZfb628NG7OuBCAeSM8gQCq6FpAeQIDUdMXA6ApwOKjq5oR0DwKkrpvrdKOOGQwzqShA2pAOIEDZdStFo25iBmImFQ1IA5K7HGa93NzGDKuZdDKAUiG5zmEWkNznsNyQishhOSEVk8NynW7FxQztmXTygIaax59MYW4BAlJAigpIASkgBST6+hRgAP0YmjKqeTuvAAAAAElFTkSuQmCC"});store.push({url:lastScriptPath+"richVideoControlIcon_begin.png",dataUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAABJCAYAAABxcwvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAeZJREFUeNrs3NFNwzAQBmDH6juM0A1gAxiBDQgT0BFgg2xAmQBG6AjtBh2hTJDaKBVSSaPKse+/O99J91bpTl+VxHYcN33fO4vp8EZgSIZkSIZkSIZkSH+xOcuWuK/bkB3AY7Tu4sKPH0bQKBuN9Q4AoNG63C63U6N3nOp6A3L3IfdTdb0B/da94f50Yw3EAYk9EBpJBBAaqZMAhERah3yWAIRCQgA9pQIhkBBAcUr1lQpEjYQC+pCyCiAWiApJNBAFknig0kgqgEoiIYBWJYBiLJQAFa3pDYgWSSVQTiS1QLmQVAPlQOq0A81FimOS1womyMlDgCKDtomIq5jf7v/7QLZICKCNo1/FTL7cqgNKQVoR97cc0klCegy5I+xvO9T8kYR0qBEqZQhQHVTqOKkqqDmDyWqg5k5LqoDKMcFFQu2kIKmHyrnohoAiqeklNk1d0xdquiV+AhWF8oXvFyqgSr6cVANV+jW3CiiKDRMoqLiz7VMKEnLe1eaAotzEJRaKejugSCjExlJxUKgtyqKgkJvdxUChvy1BQr1LQUJCvYV8kYKEhFpfA8Xpy0m2UNy+wT1BOU5QHM8F2F57r6CCai6cn3T+b+6HpIwloOZo3cYOmZLzdDMkQzIkC0MyJEMijaMAAwDACKg+5QRqVQAAAABJRU5ErkJggg=="});store.push({url:lastScriptPath+"richVideoControlIcon_pause.png",dataUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAABJCAYAAABxcwvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ1JREFUeNrs3MEJwCAQAMFoBZZiCSk9nV0sQARRzCOzcE85GXybIuLSuAQJEiRIkCBB+mN58fzdJiZnR0f3Zu8EEiRIkCBBgiRIkCBBggQJkiBBggQJEiRIkAQJEiRIkCBBEiRIkCBBggRJkCBBggQJEiRIggQJEiRIkCAJEiRI37T6eUJpUyfPPBvufXSvHyYgQYIECRIkSOr3CjAAlD9Nt/ZuSukAAAAASUVORK5CYII="});store.push({url:lastScriptPath+"richVideoControlIcon_play.png",dataUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAABJCAYAAABxcwvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAf9JREFUeNrs2uFRgzAUB3Dk+N5uICN0g+oGbiBu4AatE4gTWDeoE0gnECeQbtBOgOEa7vJBCRiSvLz83937Zqn3uwT+5PWqbdsENVwpCIAEJCABCUhAAtK42oveil4C6e/qcDaia9EFkIbrWvSr6IY71hz3JBXrBkh6rA/RFTcsG0+3tYK1ApIe61P0TnQOpOG6F/0dMpbLMNljBZexfCTujXwSBoPl67VkoWA9AkmP9Uw9kFJ5wSWd3qmdAvRYpAIp1aOSNaX0Tv08ScXKgaTH8hZIQzuZVNP7Ekh6LGeBNOQz7oWr9M5hEKBiFUDSY1kJpBxHSrMfJ3Oeu812nBzDcNI4vcc0we2xJgfSGMfck4+TY/4tQI9V6jIWfjBxGXvlQPq9jqIf5M28HvrDLFKcrbwnjaqYkM4Sp5z6wSwSnFL26T8X4I70ZILDHelNbq1mjotlwIkH6ZBcJsG1jYunDHBux2SdGFfSl1w5lYsvC20l9Sl55QoopJU0OSXHhGQcBDkjkcChjPQit9aJyj9ECclKEOSC9C4f5w3Rre81AvRB8I4ykK+VdJDbqkoCKZdIR7mt9qHF+9QRTpeS8xCBbK+ks1w5uyTwyizhkAmC1JDY4cyNRDYIUkBijWOK1GWdgjuOCVI0OCY5KSog3+9uQAISkFBAAhKQvNWPAAMAZ8F2StlOCaoAAAAASUVORK5CYII="});store.push({url:lastScriptPath+"richVideoControlIcon_reset.png",dataUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAABJCAYAAABxcwvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA75JREFUeNrsnN1xozAQgBWPX/IUOjAdhKvALoEOjnTgdMBVcO7gSAe4A1JBcAWHKzj5KY8+aWY95+H42V1JgAg7s+OMh8DysbtarYQfrterWKRbVguCBZIVWY903Qg0VLqD7/Tfm9pxJ6UStLzTakhjHwbKSYHSGIDozyfD852V5koL+PQakoaSWALTJhelmdKDMw/TkBzoTmlxHV4ypaHt+7HtSRE80e3IufZN6R5y2aRGt1TpxwQAafkOoRdPJSdFkBOeJzqCHyEvyrEgxQDoSUxbzmBrOTQk/XR+eVQTXmC0LYeClEHc2zL+ViBWDaEcWM5zL2C/0xIgtTBU50oT4nAdKd0rLS1cP6bcMxVQYmBYBTcZWKhdNNyDUsm0RQJ065B2BgYljorWwMCzJfaBUYyRzLAKHAGqexYnDAubkIoJeU+XHhigUhuQ9i7j3YFy8mZkAokaZmMD4oIqTCAdPATEBRVzugC6U/ibUHJ945b9DkV3An4Spi4htQuQEox5nSAgAW2bI/LYTVvXoM2TApgiYCau73d96imK8b2sOmb32Jl9MvGJrYSww8i2KeRWHbGM7QBWYvqSQc7B5rFeSCGhgZYKfwRrKyrcdjPzIqo3PddDzgRSLvyTnONNXEgXTyFltiBtECcphJ9SwgPuk85ww4aar5Cwtm+7IAWEJyI89iZsEdoIKVog/c+Cu4IrPYZEtn3ZxLVAWiAtkOYAKfD4ngNTSOTh0UMhlzkr5vD4FSDJNkjY6cbOY0gY29/7ctJ5xpC0F2Ha0lUfJIw36QvFHkJKOJNgLiSxQMKJ3ukWegYIE2onTLhVcCBGUo8gYW3NscXkgeBNPpQDeplogzw2q38xpxXcUDSv3jhbwZUC3zTfCvxipktAZYtXZwK/Gt0cQT1b7KxthHKs+5btP5QNaNXc9ycVDXYMsj+JGs9a2LvuDWf1f2rffSp9JJyjM6/2tUokMd88QZ01ZP3UVNQ+Es+RmPaTsvqEDzHvkSNDosgP0bOnAftuCTbsTuC2Q0KSgv+WFKp8WREMiScIyOTd3gvWCyntW51rXiYEyCTULiR7DWqSm5QDvRrRpBXzvZId5TqchQBdlb6N7EG3BtqG8X+fVHu5qyV6yHwdERClN9RUHhSUiflQvzDhQiqmJ5ELX18XJ0NDQDfIKG9aewqJO6odoamWU9KEr5ASQkjdoBTc/OljTmqa0N7LuQbGWNYzCbUTzDELFx0InyEdxb/fT6pcXtBHSLkw/O2Rr5CTBpdlE9cCyY78FWAAUP9VJkZ1g/gAAAAASUVORK5CYII="});var importCSS=document.createElement("style");importCSS.innerHTML=".richVideoControl-button:hover{background:rgba(0,0,0,.2)}.richVideoControl-button:active,.richVideoControl-buttons{background:rgba(0,0,0,.5)}.richVideoControl-button{width:26px;height:26px;padding:0;margin:7px 10px;border:0;float:left}.richVideoControl{position:absolute;overflow:hidden;padding:0;border:0;margin:0}.richVideoControl-buttons{height:40px;min-width:190px;display:inline-block;padding:0 5px;margin:0;float:left}.richVideoControl-seeker{background:linear-gradient(to right,rgba(252,88,0,.7) 0,rgba(0,0,0,.2) 0);height:10px;width:100%;padding:0;border:0;margin:0;overflow:hidden}.richVideoControl-timeCode{width:230px;height:40px;padding:0;border:0;margin:0;display:inline-block;background:rgba(0,0,0,.8);overflow:hidden;font-size:18px;color:rgba(252,88,0,.9);text-align:center;font-style:bold;line-height:40px}.richVideoControl-timeCode_rolling{color:#fff}.richVideoControl-playbackRate{border:1px solid rgba(252,88,0,.9);background:rgba(0,0,0,.5);text-align:center;height:24px;font-size:16px;padding:0;margin-top:7px;margin-bottom:7px;color:#fff;min-width:50px;width:50px;float:left;display:inline-block}",document.getElementsByTagName("head")[0].appendChild(importCSS),importCSS=null,delete importCSS;function richVideoControl$applyControl(e){function t(e,t){var a=Math.round(e),i=Math.round(t),n=a/i;return n=n>=0?Math.floor(n):Math.ceil(n)}function a(){k.style.width=e.clientWidth+"px",k.style.height=C.clientHeight+b.clientHeight+"px",k.style.top=e.clientTop+e.clientHeight-k.clientHeight+"px",k.style.left=e.clientLeft+"px",k.clientWidth<=E.clientWidth?(E.style.display="none",C.style.width=k.clientWidth+"px"):(E.style.display="inline-block",C.style.width=k.clientWidth-E.clientWidth-11+"px"),setTimeout(a,100)}function i(e){var a=parseInt((e%1*100).toString())||0,i=Math.round(parseInt(e.toString())%60)||0,n=Math.round((parseInt(e.toString())/60).toString())||0,o=t(parseInt(e.toString()),3600)||0;return _zeroPad(o,2)+":"+_zeroPad(n,2)+":"+_zeroPad(i,2)+"."+_zeroPad(a,2)}function n(){e.duration>0&&(e.paused?e.play():e.pause())}function o(t){e.duration>0&&(console.log("t"),e.currentTime=e.duration*t)}function r(t){e.duration>0&&(t>0&&(t=1),0>t&&(t=-1),1==e.playbackRate||-1==e.playbackRate?e.paused?(e.playbackRate=e.playbackRate*t,e.play()):e.playbackRate+.5*t==0?(e.pause(),e.playbackRate=1):(e.playbackRate=e.playbackRate+.5*t,!__hack.isSafari&&e.playbackRate<0&&(e.pause(),e.playbackRate=1)):(10>=e.playbackRate+.5*t&&e.playbackRate+.5*t>=-10&&(e.playbackRate=e.playbackRate+.5*t),!__hack.isSafari&&e.playbackRate<0&&(e.pause(),e.playbackRate=1)))}function A(){for(el in B)try{B[el].style.opacity="0.5"}catch(e){}}function l(){for(el in B)try{B[el].style.opacity="1"}catch(e){}d()}function c(){(u.playbackRate!=e.playbackRate.toFixed(1)||0==(parseFloat(B.playbackRate.value)||0))&&(e.playbackRate>10&&(e.playbackRate=10),e.playbackRate<-10&&(e.playbackRate=-10),B.playbackRate.value=e.playbackRate.toFixed(1).toString(),u.playbackRate=e.playbackRate.toFixed(1)),B.playStop.src=getFile(e.paused?u.basePath+"richVideoControlIcon_play.png":u.basePath+"richVideoControlIcon_pause.png")}function d(){var t=e.currentTime/e.duration;b.style.background="linear-gradient(to right, rgba(252,88,0,0.7) "+Math.round(t*b.clientWidth)+"px,rgba(0,0,0,0.2)"+Math.round(t*b.clientWidth)+"px)",E.innerHTML='<span class="richVideoControl-timeCode_rolling">'+i(Math.round(100*e.currentTime)/100)+"</span>/"+i(Math.round(100*e.duration)/100),c()}function p(){u.hideInterval>-999&&(clearInterval(u.hideInterval),u.hideInterval=-999),k.style.opacity="1"}function g(){-999==u.hideInterval&&(u.showInterval>-999&&(clearInterval(u.showInterval),u.showInterval=-999),u.hideInterval=setInterval(function(){k.style.opacity=window.getComputedStyle(k).opacity-.025},50),setTimeout(function(){u.hideInterval>-999&&(k.style.opacity="0",clearInterval(u.hideInterval),u.hideInterval=-999)},2e3))}function s(e){if("click"==e.type||u.seeking){var t=(e.clientX-k.clientLeft)/b.clientWidth;o(t)}}function h(t){e.playbackRate=parseFloat(t.target.value),0==e.playbackRate&&(e.pause(),e.playbackRate=1)}var u={seeking:!1,hideTimeout:0,hideInterval:-999,playbackRate:1,basePath:lastScriptPath||'./'},k=document.createElement("div");k.classList.add("richVideoControl");var b=document.createElement("div");b.classList.add("richVideoControl-seeker");var C=document.createElement("div");C.classList.add("richVideoControl-buttons");var B={playStop:document.createElement("img"),forward:document.createElement("img"),backward:document.createElement("img"),begin:document.createElement("img"),playbackRate:document.createElement("input"),reset:document.createElement("img")};B.playStop.src=getFile(u.basePath+"richVideoControlIcon_play.png"),B.forward.src=getFile(u.basePath+"richVideoControlIcon_forward.png"),B.backward.src=getFile(u.basePath+"richVideoControlIcon_backward.png"),B.begin.src=getFile(u.basePath+"richVideoControlIcon_begin.png"),B.reset.src=getFile(u.basePath+"richVideoControlIcon_reset.png"),B.playbackRate.setAttribute("type","text"),B.playStop.classList.add("richVideoControl-button"),B.forward.classList.add("richVideoControl-button"),B.backward.classList.add("richVideoControl-button"),B.begin.classList.add("richVideoControl-button"),B.reset.classList.add("richVideoControl-button"),B.playbackRate.classList.add("richVideoControl-playbackRate");var E=document.createElement("div");E.classList.add("richVideoControl-timeCode"),k.appendChild(b),k.appendChild(C),k.appendChild(E),C.appendChild(B.begin),C.appendChild(B.backward),C.appendChild(B.playStop),C.appendChild(B.forward),C.appendChild(B.playbackRate),C.appendChild(B.reset),k.addEventListener("mouseover",function(){clearTimeout(u.hideTimeout)}),k.addEventListener("mouseout",function(t){var a=document.createEvent("HTMLEvents");a.relatedTarget=t.relatedTarget,a.initEvent("mouseout",!0,!0),e.dispatchEvent(a)}),b.addEventListener("click",s),b.addEventListener("mousedown",function(){u.seeking=!0}),b.addEventListener("mousemove",s),b.addEventListener("mouseup",function(){u.seeking=!1}),b.addEventListener("mouseout",function(){u.seeking=!1}),b.addEventListener("blur",function(){u.seeking=!1}),B.playStop.addEventListener("click",function(){n()}),B.forward.addEventListener("click",function(){r(1)}),B.backward.addEventListener("click",function(){r(-1)}),B.begin.addEventListener("click",function(){o(0)}),B.playbackRate.addEventListener("change",h),B.reset.addEventListener("click",function(){e.playbackRate=1}),e.addEventListener("canplay",l),e.addEventListener("playing",d),e.addEventListener("timeupdate",d),e.addEventListener("seeking",d),e.addEventListener("ratechange",c),e.addEventListener("pause",d),e.addEventListener("play",d),e.addEventListener("emptied",A),e.addEventListener("mouseover",p),e.addEventListener("mousemove",p),e.addEventListener("mouseout",function(e){var t=e.toElement||e.relatedTarget||document.body;t.parentNode!=e.target.parentNode&&t!=e.target&&(u.hideTimeout=setTimeout(g,1e3))}),a(),d(),e.controls=!1,A(),e.parentNode.appendChild(k)}